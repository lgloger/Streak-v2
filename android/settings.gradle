pluginManagement {
    def reactNativeGradlePluginPath = new File([
        'node', 
        '--print', 
        "require.resolve('@react-native/gradle-plugin/package.json', { paths: [require.resolve('react-native/package.json')] })"
    ].execute(null, rootDir).text.trim()).parentFile

    includeBuild(reactNativeGradlePluginPath.toString().replace("\\", "/"))
}

plugins {
    id("com.facebook.react.settings")
}

apply from: new File([
    'node', 
    '--print', 
    "require.resolve('expo/package.json')"
].execute(null, rootDir).text.trim(), "../scripts/autolinking.gradle")

useExpoModules()

include ':expo-modules-core'
project(':expo-modules-core').projectDir = new File(
  rootProject.projectDir, 
  '../node_modules/expo-modules-core/android'
)

rootProject.name = 'Streak-v2'

dependencyResolutionManagement {
  versionCatalogs {
    reactAndroidLibs {
      from(files(new File([
          'node', 
          '--print', 
          "require.resolve('react-native/package.json')"
      ].execute(null, rootDir).text.trim(), "../gradle/libs.versions.toml")))
    }
  }
}

include ':app'
includeBuild(new File([
    'node', 
    '--print', 
    "require.resolve('@react-native/gradle-plugin/package.json', { paths: [require.resolve('react-native/package.json')] })"
].execute(null, rootDir).text.trim()).parentFile)